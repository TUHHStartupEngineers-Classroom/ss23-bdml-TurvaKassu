{
  "hash": "753c4753bcdfeefc9ba57dc9e750911f",
  "result": {
    "markdown": "# Explanations with Lime\n\n## Part 1: plot_features\n\nLets start by loading the libraries and data\n\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-1_50050ccc28fc0229c81aa03755047246'}\n\n```{.r .cell-code}\nlibrary(h2o)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> ----------------------------------------------------------------------\n#> \n#> Your next step is to start H2O:\n#>     > h2o.init()\n#> \n#> For H2O package documentation, ask for help:\n#>     > ??h2o\n#> \n#> After starting H2O, you can use the Web UI at http://localhost:54321\n#> For more information visit https://docs.h2o.ai\n#> \n#> ----------------------------------------------------------------------\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'h2o'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:stats':\n#> \n#>     cor, sd, var\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:base':\n#> \n#>     %*%, %in%, &&, ||, apply, as.factor, as.numeric, colnames,\n#>     colnames<-, ifelse, is.character, is.factor, is.numeric, log,\n#>     log10, log1p, log2, round, signif, trunc\n```\n:::\n\n```{.r .cell-code}\nlibrary(recipes)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Loading required package: dplyr\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:stats':\n#> \n#>     filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:base':\n#> \n#>     intersect, setdiff, setequal, union\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'recipes'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following object is masked from 'package:stats':\n#> \n#>     step\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ forcats   1.0.0     ✔ readr     2.1.4\n#> ✔ ggplot2   3.4.2     ✔ stringr   1.5.0\n#> ✔ lubridate 1.9.2     ✔ tibble    3.2.1\n#> ✔ purrr     1.0.1     ✔ tidyr     1.3.0\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ lubridate::day()   masks h2o::day()\n#> ✖ dplyr::filter()    masks stats::filter()\n#> ✖ stringr::fixed()   masks recipes::fixed()\n#> ✖ lubridate::hour()  masks h2o::hour()\n#> ✖ dplyr::lag()       masks stats::lag()\n#> ✖ lubridate::month() masks h2o::month()\n#> ✖ lubridate::week()  masks h2o::week()\n#> ✖ lubridate::year()  masks h2o::year()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyquant)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Loading required package: PerformanceAnalytics\n#> Loading required package: xts\n#> Loading required package: zoo\n#> \n#> Attaching package: 'zoo'\n#> \n#> The following objects are masked from 'package:base':\n#> \n#>     as.Date, as.Date.numeric\n#> \n#> \n#> ######################### Warning from 'xts' package ##########################\n#> #                                                                             #\n#> # The dplyr lag() function breaks how base R's lag() function is supposed to  #\n#> # work, which breaks lag(my_xts). Calls to lag(my_xts) that you type or       #\n#> # source() into this session won't work correctly.                            #\n#> #                                                                             #\n#> # Use stats::lag() to make sure you're not using dplyr::lag(), or you can add #\n#> # conflictRules('dplyr', exclude = 'lag') to your .Rprofile to stop           #\n#> # dplyr from breaking base R's lag() function.                                #\n#> #                                                                             #\n#> # Code in packages is not affected. It's protected by R's namespace mechanism #\n#> # Set `options(xts.warn_dplyr_breaks_lag = FALSE)` to suppress this warning.  #\n#> #                                                                             #\n#> ###############################################################################\n#> \n#> Attaching package: 'xts'\n#> \n#> The following objects are masked from 'package:dplyr':\n#> \n#>     first, last\n#> \n#> \n#> Attaching package: 'PerformanceAnalytics'\n#> \n#> The following object is masked from 'package:graphics':\n#> \n#>     legend\n#> \n#> Loading required package: quantmod\n#> Loading required package: TTR\n#> Registered S3 method overwritten by 'quantmod':\n#>   method            from\n#>   as.zoo.data.frame zoo\n```\n:::\n\n```{.r .cell-code}\nlibrary(lime)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'lime'\n#> \n#> The following object is masked from 'package:dplyr':\n#> \n#>     explain\n```\n:::\n\n```{.r .cell-code}\nlibrary(rsample)\n```\n:::\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-2_e85b836dd178d936fb4b03178ab60d03'}\n\n```{.r .cell-code}\n# Load Data\nemployee_attrition_tbl <- read_csv(\"07_data\\\\datasets-1067-1925-WA_Fn-UseC_-HR-Employee-Attrition.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 1470 Columns: 35\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr  (9): Attrition, BusinessTravel, Department, EducationField, Gender, Job...\n#> dbl (26): Age, DailyRate, DistanceFromHome, Education, EmployeeCount, Employ...\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndefinitions_raw_tbl    <- read_excel(\"07_data\\\\data_definitions.xlsx\", sheet = 1, col_names = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> New names:\n#> • `` -> `...1`\n#> • `` -> `...2`\n```\n:::\n:::\n\n\nCreating the h2o automl model\n\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-3_6f12712d61a5fa623610b4dee4f2c329'}\n\n```{.r .cell-code}\nh2o.init()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>  Connection successful!\n#> \n#> R is connected to the H2O cluster: \n#>     H2O cluster uptime:         2 hours 20 minutes \n#>     H2O cluster timezone:       Europe/Berlin \n#>     H2O data parsing timezone:  UTC \n#>     H2O cluster version:        3.40.0.4 \n#>     H2O cluster version age:    1 month and 10 days \n#>     H2O cluster name:           H2O_started_from_R_35844_drs368 \n#>     H2O cluster total nodes:    1 \n#>     H2O cluster total memory:   2.86 GB \n#>     H2O cluster total cores:    16 \n#>     H2O cluster allowed cores:  16 \n#>     H2O cluster healthy:        TRUE \n#>     H2O Connection ip:          localhost \n#>     H2O Connection port:        54321 \n#>     H2O Connection proxy:       NA \n#>     H2O Internal Security:      FALSE \n#>     R Version:                  R version 4.3.0 (2023-04-21 ucrt)\n```\n:::\n\n```{.r .cell-code}\n# Split into test and train\nset.seed(seed = 1113)\nsplit_obj <- rsample::initial_split(employee_attrition_tbl, prop = 0.85)\n\n# Assign training and test data\ntrain_readable_tbl <- training(split_obj)\ntest_readable_tbl  <- testing(split_obj)\n\n# ML Preprocessing Recipe \nrecipe_obj <- recipe(Attrition ~ ., data = train_readable_tbl) %>%\n                step_zv(all_predictors()) %>%\n                step_mutate_at(c(\"JobLevel\", \"StockOptionLevel\"), fn = as.factor) %>% \n                prep()\n\nrecipe_obj\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Recipe ──────────────────────────────────────────────────────────────────────\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Inputs\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Number of variables by role\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> outcome:    1\n#> predictor: 34\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Training information\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Training data contained 1249 data points and no incomplete rows.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Operations\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> • Zero variance filter removed: EmployeeCount, Over18, StandardHours | Trained\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> • Variable mutation for: JobLevel, StockOptionLevel | Trained\n```\n:::\n\n```{.r .cell-code}\ntrain_tbl <- bake(recipe_obj, new_data = train_readable_tbl)\ntest_tbl  <- bake(recipe_obj, new_data = test_readable_tbl)\n\n# Creating the automl model\n\n# Split data into a training and a validation data frame\nsplit_h2o <- h2o.splitFrame(as.h2o(train_tbl), ratios = c(0.85), seed = 1234)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\ntrain_h2o <- split_h2o[[1]]\nvalid_h2o <- split_h2o[[2]]\ntest_h2o  <- as.h2o(test_tbl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\n# Set the target and predictors\ny <- \"Attrition\"\nx <- setdiff(names(train_h2o), y)\n\n# Creating the models\nautoml_models_h2o <- h2o.automl(\n  x = x,\n  y = y,\n  training_frame    = train_h2o,\n  validation_frame  = valid_h2o,\n  leaderboard_frame = test_h2o,\n  max_runtime_secs  = 45,\n  nfolds            = 10 \n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |===                                                                   |   4%\n#> 17:41:23.66: User specified a validation frame with cross-validation still enabled. Please note that the models will still be validated using cross-validation only, the validation frame will be used to provide purely informative validation metrics on the trained models.\n#> 17:41:23.72: AutoML: XGBoost is not available; skipping it.\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n:::\n\nGetting the best model and creating predictions to explain with Lime\n\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-4_cebaee8d63be68570b26b06f0b565675'}\n\n```{.r .cell-code}\nbest_model_id <- automl_models_h2o@leaderboard %>%\n  as_tibble() %>%\n  slice(1) %>% \n  pull(model_id)\n\nautoml_leader <- h2o.getModel(best_model_id)\n\npredictions_tbl <- automl_leader %>% \n    h2o.predict(newdata = as.h2o(test_tbl)) %>%\n    as_tibble() %>%\n    bind_cols(\n        test_tbl %>%\n            select(Attrition, EmployeeNumber)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\npredictions_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"predict\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"No\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Yes\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Attrition\"],\"name\":[4],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"EmployeeNumber\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"No\",\"2\":\"0.94303179\",\"3\":\"5.696821e-02\",\"4\":\"No\",\"5\":\"10\"},{\"1\":\"No\",\"2\":\"0.89064437\",\"3\":\"1.093556e-01\",\"4\":\"No\",\"5\":\"16\"},{\"1\":\"No\",\"2\":\"0.96478408\",\"3\":\"3.521592e-02\",\"4\":\"No\",\"5\":\"30\"},{\"1\":\"No\",\"2\":\"0.87311872\",\"3\":\"1.268813e-01\",\"4\":\"Yes\",\"5\":\"31\"},{\"1\":\"No\",\"2\":\"0.99303763\",\"3\":\"6.962375e-03\",\"4\":\"No\",\"5\":\"40\"},{\"1\":\"No\",\"2\":\"0.99751911\",\"3\":\"2.480891e-03\",\"4\":\"Yes\",\"5\":\"42\"},{\"1\":\"No\",\"2\":\"0.99960356\",\"3\":\"3.964398e-04\",\"4\":\"No\",\"5\":\"46\"},{\"1\":\"Yes\",\"2\":\"0.05821852\",\"3\":\"9.417815e-01\",\"4\":\"Yes\",\"5\":\"55\"},{\"1\":\"Yes\",\"2\":\"0.47186701\",\"3\":\"5.281330e-01\",\"4\":\"Yes\",\"5\":\"64\"},{\"1\":\"No\",\"2\":\"0.99903462\",\"3\":\"9.653833e-04\",\"4\":\"No\",\"5\":\"77\"},{\"1\":\"No\",\"2\":\"0.97136387\",\"3\":\"2.863613e-02\",\"4\":\"No\",\"5\":\"80\"},{\"1\":\"No\",\"2\":\"0.98330152\",\"3\":\"1.669848e-02\",\"4\":\"No\",\"5\":\"83\"},{\"1\":\"No\",\"2\":\"0.99237520\",\"3\":\"7.624795e-03\",\"4\":\"No\",\"5\":\"85\"},{\"1\":\"No\",\"2\":\"0.99807113\",\"3\":\"1.928867e-03\",\"4\":\"No\",\"5\":\"96\"},{\"1\":\"No\",\"2\":\"0.94212394\",\"3\":\"5.787606e-02\",\"4\":\"No\",\"5\":\"121\"},{\"1\":\"No\",\"2\":\"0.94617973\",\"3\":\"5.382027e-02\",\"4\":\"No\",\"5\":\"125\"},{\"1\":\"No\",\"2\":\"0.99993368\",\"3\":\"6.632219e-05\",\"4\":\"No\",\"5\":\"140\"},{\"1\":\"No\",\"2\":\"0.97558888\",\"3\":\"2.441112e-02\",\"4\":\"No\",\"5\":\"145\"},{\"1\":\"No\",\"2\":\"0.98929072\",\"3\":\"1.070928e-02\",\"4\":\"No\",\"5\":\"158\"},{\"1\":\"No\",\"2\":\"0.93899442\",\"3\":\"6.100558e-02\",\"4\":\"No\",\"5\":\"159\"},{\"1\":\"No\",\"2\":\"0.99490129\",\"3\":\"5.098714e-03\",\"4\":\"No\",\"5\":\"160\"},{\"1\":\"Yes\",\"2\":\"0.13882122\",\"3\":\"8.611788e-01\",\"4\":\"Yes\",\"5\":\"163\"},{\"1\":\"No\",\"2\":\"0.98961216\",\"3\":\"1.038784e-02\",\"4\":\"Yes\",\"5\":\"165\"},{\"1\":\"No\",\"2\":\"0.98326877\",\"3\":\"1.673123e-02\",\"4\":\"Yes\",\"5\":\"179\"},{\"1\":\"No\",\"2\":\"0.83870200\",\"3\":\"1.612980e-01\",\"4\":\"No\",\"5\":\"184\"},{\"1\":\"No\",\"2\":\"0.99454891\",\"3\":\"5.451088e-03\",\"4\":\"No\",\"5\":\"193\"},{\"1\":\"No\",\"2\":\"0.92265592\",\"3\":\"7.734408e-02\",\"4\":\"No\",\"5\":\"194\"},{\"1\":\"No\",\"2\":\"0.99335765\",\"3\":\"6.642351e-03\",\"4\":\"No\",\"5\":\"197\"},{\"1\":\"No\",\"2\":\"0.99323319\",\"3\":\"6.766812e-03\",\"4\":\"No\",\"5\":\"199\"},{\"1\":\"No\",\"2\":\"0.98891746\",\"3\":\"1.108254e-02\",\"4\":\"No\",\"5\":\"200\"},{\"1\":\"No\",\"2\":\"0.99238561\",\"3\":\"7.614392e-03\",\"4\":\"No\",\"5\":\"204\"},{\"1\":\"No\",\"2\":\"0.99475064\",\"3\":\"5.249361e-03\",\"4\":\"No\",\"5\":\"206\"},{\"1\":\"No\",\"2\":\"0.99970118\",\"3\":\"2.988241e-04\",\"4\":\"No\",\"5\":\"217\"},{\"1\":\"No\",\"2\":\"0.89160402\",\"3\":\"1.083960e-01\",\"4\":\"No\",\"5\":\"224\"},{\"1\":\"No\",\"2\":\"0.99383599\",\"3\":\"6.164006e-03\",\"4\":\"No\",\"5\":\"239\"},{\"1\":\"Yes\",\"2\":\"0.33895281\",\"3\":\"6.610472e-01\",\"4\":\"Yes\",\"5\":\"248\"},{\"1\":\"No\",\"2\":\"0.99844738\",\"3\":\"1.552619e-03\",\"4\":\"No\",\"5\":\"252\"},{\"1\":\"No\",\"2\":\"0.99995184\",\"3\":\"4.816121e-05\",\"4\":\"No\",\"5\":\"270\"},{\"1\":\"No\",\"2\":\"0.99641342\",\"3\":\"3.586582e-03\",\"4\":\"No\",\"5\":\"273\"},{\"1\":\"No\",\"2\":\"0.86586903\",\"3\":\"1.341310e-01\",\"4\":\"Yes\",\"5\":\"291\"},{\"1\":\"No\",\"2\":\"0.97791602\",\"3\":\"2.208398e-02\",\"4\":\"No\",\"5\":\"307\"},{\"1\":\"No\",\"2\":\"0.99535639\",\"3\":\"4.643610e-03\",\"4\":\"No\",\"5\":\"309\"},{\"1\":\"No\",\"2\":\"0.89796861\",\"3\":\"1.020314e-01\",\"4\":\"No\",\"5\":\"311\"},{\"1\":\"No\",\"2\":\"0.99680269\",\"3\":\"3.197306e-03\",\"4\":\"No\",\"5\":\"312\"},{\"1\":\"No\",\"2\":\"0.98048014\",\"3\":\"1.951986e-02\",\"4\":\"No\",\"5\":\"314\"},{\"1\":\"No\",\"2\":\"0.84455458\",\"3\":\"1.554454e-01\",\"4\":\"No\",\"5\":\"321\"},{\"1\":\"No\",\"2\":\"0.99937969\",\"3\":\"6.203086e-04\",\"4\":\"No\",\"5\":\"327\"},{\"1\":\"No\",\"2\":\"0.90903340\",\"3\":\"9.096660e-02\",\"4\":\"No\",\"5\":\"333\"},{\"1\":\"No\",\"2\":\"0.99802159\",\"3\":\"1.978407e-03\",\"4\":\"No\",\"5\":\"334\"},{\"1\":\"No\",\"2\":\"0.99599649\",\"3\":\"4.003511e-03\",\"4\":\"No\",\"5\":\"361\"},{\"1\":\"No\",\"2\":\"0.99897979\",\"3\":\"1.020211e-03\",\"4\":\"No\",\"5\":\"367\"},{\"1\":\"No\",\"2\":\"0.84975625\",\"3\":\"1.502438e-01\",\"4\":\"No\",\"5\":\"382\"},{\"1\":\"Yes\",\"2\":\"0.40495209\",\"3\":\"5.950479e-01\",\"4\":\"No\",\"5\":\"390\"},{\"1\":\"No\",\"2\":\"0.99959015\",\"3\":\"4.098521e-04\",\"4\":\"No\",\"5\":\"395\"},{\"1\":\"No\",\"2\":\"0.94739163\",\"3\":\"5.260837e-02\",\"4\":\"No\",\"5\":\"406\"},{\"1\":\"No\",\"2\":\"0.99543374\",\"3\":\"4.566265e-03\",\"4\":\"No\",\"5\":\"412\"},{\"1\":\"No\",\"2\":\"0.99894641\",\"3\":\"1.053586e-03\",\"4\":\"No\",\"5\":\"417\"},{\"1\":\"No\",\"2\":\"0.99606561\",\"3\":\"3.934387e-03\",\"4\":\"No\",\"5\":\"422\"},{\"1\":\"No\",\"2\":\"0.96778019\",\"3\":\"3.221981e-02\",\"4\":\"Yes\",\"5\":\"433\"},{\"1\":\"No\",\"2\":\"0.98670115\",\"3\":\"1.329885e-02\",\"4\":\"No\",\"5\":\"444\"},{\"1\":\"No\",\"2\":\"0.99214501\",\"3\":\"7.854993e-03\",\"4\":\"No\",\"5\":\"451\"},{\"1\":\"No\",\"2\":\"0.99648054\",\"3\":\"3.519461e-03\",\"4\":\"No\",\"5\":\"452\"},{\"1\":\"No\",\"2\":\"0.98406507\",\"3\":\"1.593493e-02\",\"4\":\"No\",\"5\":\"456\"},{\"1\":\"No\",\"2\":\"0.99407245\",\"3\":\"5.927547e-03\",\"4\":\"No\",\"5\":\"465\"},{\"1\":\"No\",\"2\":\"0.79094375\",\"3\":\"2.090562e-01\",\"4\":\"No\",\"5\":\"467\"},{\"1\":\"No\",\"2\":\"0.98769043\",\"3\":\"1.230957e-02\",\"4\":\"No\",\"5\":\"474\"},{\"1\":\"No\",\"2\":\"0.99961608\",\"3\":\"3.839216e-04\",\"4\":\"No\",\"5\":\"486\"},{\"1\":\"No\",\"2\":\"0.99880541\",\"3\":\"1.194592e-03\",\"4\":\"No\",\"5\":\"487\"},{\"1\":\"No\",\"2\":\"0.96649492\",\"3\":\"3.350508e-02\",\"4\":\"No\",\"5\":\"495\"},{\"1\":\"No\",\"2\":\"0.97314028\",\"3\":\"2.685972e-02\",\"4\":\"No\",\"5\":\"496\"},{\"1\":\"No\",\"2\":\"0.64368755\",\"3\":\"3.563124e-01\",\"4\":\"Yes\",\"5\":\"510\"},{\"1\":\"No\",\"2\":\"0.92121330\",\"3\":\"7.878670e-02\",\"4\":\"No\",\"5\":\"513\"},{\"1\":\"No\",\"2\":\"0.95224385\",\"3\":\"4.775615e-02\",\"4\":\"Yes\",\"5\":\"538\"},{\"1\":\"No\",\"2\":\"0.99922703\",\"3\":\"7.729707e-04\",\"4\":\"No\",\"5\":\"547\"},{\"1\":\"No\",\"2\":\"0.94714872\",\"3\":\"5.285128e-02\",\"4\":\"No\",\"5\":\"549\"},{\"1\":\"No\",\"2\":\"0.99992373\",\"3\":\"7.627237e-05\",\"4\":\"No\",\"5\":\"550\"},{\"1\":\"No\",\"2\":\"0.99516826\",\"3\":\"4.831737e-03\",\"4\":\"No\",\"5\":\"558\"},{\"1\":\"No\",\"2\":\"0.95124186\",\"3\":\"4.875814e-02\",\"4\":\"No\",\"5\":\"567\"},{\"1\":\"No\",\"2\":\"0.98145874\",\"3\":\"1.854126e-02\",\"4\":\"No\",\"5\":\"568\"},{\"1\":\"No\",\"2\":\"0.99876585\",\"3\":\"1.234154e-03\",\"4\":\"No\",\"5\":\"574\"},{\"1\":\"No\",\"2\":\"0.99713781\",\"3\":\"2.862192e-03\",\"4\":\"No\",\"5\":\"579\"},{\"1\":\"No\",\"2\":\"0.99993990\",\"3\":\"6.009510e-05\",\"4\":\"No\",\"5\":\"581\"},{\"1\":\"No\",\"2\":\"0.97219587\",\"3\":\"2.780413e-02\",\"4\":\"No\",\"5\":\"591\"},{\"1\":\"No\",\"2\":\"0.99601111\",\"3\":\"3.988892e-03\",\"4\":\"No\",\"5\":\"623\"},{\"1\":\"No\",\"2\":\"0.99384101\",\"3\":\"6.158990e-03\",\"4\":\"No\",\"5\":\"671\"},{\"1\":\"No\",\"2\":\"0.97963678\",\"3\":\"2.036322e-02\",\"4\":\"No\",\"5\":\"679\"},{\"1\":\"No\",\"2\":\"0.99167645\",\"3\":\"8.323554e-03\",\"4\":\"No\",\"5\":\"690\"},{\"1\":\"No\",\"2\":\"0.97414970\",\"3\":\"2.585030e-02\",\"4\":\"No\",\"5\":\"691\"},{\"1\":\"No\",\"2\":\"0.99982621\",\"3\":\"1.737924e-04\",\"4\":\"No\",\"5\":\"692\"},{\"1\":\"No\",\"2\":\"0.93102212\",\"3\":\"6.897788e-02\",\"4\":\"Yes\",\"5\":\"701\"},{\"1\":\"Yes\",\"2\":\"0.18737389\",\"3\":\"8.126261e-01\",\"4\":\"Yes\",\"5\":\"702\"},{\"1\":\"No\",\"2\":\"0.99944821\",\"3\":\"5.517876e-04\",\"4\":\"No\",\"5\":\"707\"},{\"1\":\"No\",\"2\":\"0.97685296\",\"3\":\"2.314704e-02\",\"4\":\"No\",\"5\":\"712\"},{\"1\":\"No\",\"2\":\"0.99948337\",\"3\":\"5.166261e-04\",\"4\":\"No\",\"5\":\"714\"},{\"1\":\"No\",\"2\":\"0.92298810\",\"3\":\"7.701190e-02\",\"4\":\"No\",\"5\":\"716\"},{\"1\":\"No\",\"2\":\"0.99908188\",\"3\":\"9.181234e-04\",\"4\":\"No\",\"5\":\"733\"},{\"1\":\"No\",\"2\":\"0.99535568\",\"3\":\"4.644316e-03\",\"4\":\"No\",\"5\":\"734\"},{\"1\":\"No\",\"2\":\"0.95523521\",\"3\":\"4.476479e-02\",\"4\":\"No\",\"5\":\"758\"},{\"1\":\"No\",\"2\":\"0.99669672\",\"3\":\"3.303277e-03\",\"4\":\"No\",\"5\":\"775\"},{\"1\":\"No\",\"2\":\"0.96667473\",\"3\":\"3.332527e-02\",\"4\":\"No\",\"5\":\"784\"},{\"1\":\"No\",\"2\":\"0.99926804\",\"3\":\"7.319559e-04\",\"4\":\"No\",\"5\":\"786\"},{\"1\":\"No\",\"2\":\"0.54856721\",\"3\":\"4.514328e-01\",\"4\":\"Yes\",\"5\":\"796\"},{\"1\":\"No\",\"2\":\"0.98711555\",\"3\":\"1.288445e-02\",\"4\":\"No\",\"5\":\"820\"},{\"1\":\"No\",\"2\":\"0.97106440\",\"3\":\"2.893560e-02\",\"4\":\"Yes\",\"5\":\"825\"},{\"1\":\"No\",\"2\":\"0.96673192\",\"3\":\"3.326808e-02\",\"4\":\"No\",\"5\":\"834\"},{\"1\":\"No\",\"2\":\"0.84828124\",\"3\":\"1.517188e-01\",\"4\":\"No\",\"5\":\"837\"},{\"1\":\"No\",\"2\":\"0.99288890\",\"3\":\"7.111100e-03\",\"4\":\"Yes\",\"5\":\"840\"},{\"1\":\"No\",\"2\":\"0.94836063\",\"3\":\"5.163937e-02\",\"4\":\"No\",\"5\":\"861\"},{\"1\":\"No\",\"2\":\"0.96580332\",\"3\":\"3.419668e-02\",\"4\":\"No\",\"5\":\"862\"},{\"1\":\"No\",\"2\":\"0.50278537\",\"3\":\"4.972146e-01\",\"4\":\"No\",\"5\":\"879\"},{\"1\":\"No\",\"2\":\"0.95145255\",\"3\":\"4.854745e-02\",\"4\":\"No\",\"5\":\"895\"},{\"1\":\"Yes\",\"2\":\"0.46362630\",\"3\":\"5.363737e-01\",\"4\":\"No\",\"5\":\"913\"},{\"1\":\"No\",\"2\":\"0.84050522\",\"3\":\"1.594948e-01\",\"4\":\"Yes\",\"5\":\"927\"},{\"1\":\"No\",\"2\":\"0.99760152\",\"3\":\"2.398483e-03\",\"4\":\"No\",\"5\":\"930\"},{\"1\":\"No\",\"2\":\"0.99634859\",\"3\":\"3.651414e-03\",\"4\":\"No\",\"5\":\"940\"},{\"1\":\"No\",\"2\":\"0.98972048\",\"3\":\"1.027952e-02\",\"4\":\"No\",\"5\":\"949\"},{\"1\":\"Yes\",\"2\":\"0.10911400\",\"3\":\"8.908860e-01\",\"4\":\"Yes\",\"5\":\"960\"},{\"1\":\"Yes\",\"2\":\"0.44998129\",\"3\":\"5.500187e-01\",\"4\":\"Yes\",\"5\":\"970\"},{\"1\":\"No\",\"2\":\"0.99656709\",\"3\":\"3.432914e-03\",\"4\":\"No\",\"5\":\"981\"},{\"1\":\"No\",\"2\":\"0.91554562\",\"3\":\"8.445438e-02\",\"4\":\"Yes\",\"5\":\"986\"},{\"1\":\"No\",\"2\":\"0.99794775\",\"3\":\"2.052247e-03\",\"4\":\"No\",\"5\":\"996\"},{\"1\":\"No\",\"2\":\"0.99418416\",\"3\":\"5.815843e-03\",\"4\":\"No\",\"5\":\"1005\"},{\"1\":\"No\",\"2\":\"0.93420652\",\"3\":\"6.579348e-02\",\"4\":\"No\",\"5\":\"1014\"},{\"1\":\"Yes\",\"2\":\"0.18516867\",\"3\":\"8.148313e-01\",\"4\":\"Yes\",\"5\":\"1016\"},{\"1\":\"No\",\"2\":\"0.99058626\",\"3\":\"9.413736e-03\",\"4\":\"No\",\"5\":\"1018\"},{\"1\":\"Yes\",\"2\":\"0.29034721\",\"3\":\"7.096528e-01\",\"4\":\"No\",\"5\":\"1019\"},{\"1\":\"No\",\"2\":\"0.96437827\",\"3\":\"3.562173e-02\",\"4\":\"No\",\"5\":\"1034\"},{\"1\":\"No\",\"2\":\"0.71626077\",\"3\":\"2.837392e-01\",\"4\":\"No\",\"5\":\"1055\"},{\"1\":\"No\",\"2\":\"0.80836016\",\"3\":\"1.916398e-01\",\"4\":\"Yes\",\"5\":\"1079\"},{\"1\":\"No\",\"2\":\"0.97862481\",\"3\":\"2.137519e-02\",\"4\":\"Yes\",\"5\":\"1098\"},{\"1\":\"No\",\"2\":\"0.84515497\",\"3\":\"1.548450e-01\",\"4\":\"Yes\",\"5\":\"1107\"},{\"1\":\"No\",\"2\":\"0.99079080\",\"3\":\"9.209200e-03\",\"4\":\"No\",\"5\":\"1114\"},{\"1\":\"No\",\"2\":\"0.99082560\",\"3\":\"9.174399e-03\",\"4\":\"No\",\"5\":\"1115\"},{\"1\":\"No\",\"2\":\"0.90582845\",\"3\":\"9.417155e-02\",\"4\":\"No\",\"5\":\"1136\"},{\"1\":\"No\",\"2\":\"0.90456553\",\"3\":\"9.543447e-02\",\"4\":\"No\",\"5\":\"1150\"},{\"1\":\"No\",\"2\":\"0.95431920\",\"3\":\"4.568080e-02\",\"4\":\"Yes\",\"5\":\"1165\"},{\"1\":\"No\",\"2\":\"0.98583427\",\"3\":\"1.416573e-02\",\"4\":\"No\",\"5\":\"1179\"},{\"1\":\"No\",\"2\":\"0.98265646\",\"3\":\"1.734354e-02\",\"4\":\"No\",\"5\":\"1185\"},{\"1\":\"No\",\"2\":\"0.92551904\",\"3\":\"7.448096e-02\",\"4\":\"Yes\",\"5\":\"1200\"},{\"1\":\"No\",\"2\":\"0.96340102\",\"3\":\"3.659898e-02\",\"4\":\"No\",\"5\":\"1207\"},{\"1\":\"No\",\"2\":\"0.77217330\",\"3\":\"2.278267e-01\",\"4\":\"Yes\",\"5\":\"1210\"},{\"1\":\"No\",\"2\":\"0.83944303\",\"3\":\"1.605570e-01\",\"4\":\"No\",\"5\":\"1211\"},{\"1\":\"No\",\"2\":\"0.73908530\",\"3\":\"2.609147e-01\",\"4\":\"No\",\"5\":\"1234\"},{\"1\":\"No\",\"2\":\"0.98446835\",\"3\":\"1.553165e-02\",\"4\":\"No\",\"5\":\"1238\"},{\"1\":\"No\",\"2\":\"0.85321641\",\"3\":\"1.467836e-01\",\"4\":\"No\",\"5\":\"1244\"},{\"1\":\"No\",\"2\":\"0.99573384\",\"3\":\"4.266165e-03\",\"4\":\"No\",\"5\":\"1256\"},{\"1\":\"No\",\"2\":\"0.94772409\",\"3\":\"5.227591e-02\",\"4\":\"No\",\"5\":\"1257\"},{\"1\":\"No\",\"2\":\"0.99807846\",\"3\":\"1.921544e-03\",\"4\":\"No\",\"5\":\"1265\"},{\"1\":\"Yes\",\"2\":\"0.04175839\",\"3\":\"9.582416e-01\",\"4\":\"Yes\",\"5\":\"1273\"},{\"1\":\"No\",\"2\":\"0.93792631\",\"3\":\"6.207369e-02\",\"4\":\"No\",\"5\":\"1278\"},{\"1\":\"No\",\"2\":\"0.99840735\",\"3\":\"1.592655e-03\",\"4\":\"No\",\"5\":\"1306\"},{\"1\":\"No\",\"2\":\"0.98352499\",\"3\":\"1.647501e-02\",\"4\":\"No\",\"5\":\"1317\"},{\"1\":\"Yes\",\"2\":\"0.36657173\",\"3\":\"6.334283e-01\",\"4\":\"Yes\",\"5\":\"1318\"},{\"1\":\"No\",\"2\":\"0.98835497\",\"3\":\"1.164503e-02\",\"4\":\"No\",\"5\":\"1338\"},{\"1\":\"No\",\"2\":\"0.98859167\",\"3\":\"1.140833e-02\",\"4\":\"No\",\"5\":\"1346\"},{\"1\":\"No\",\"2\":\"0.99504374\",\"3\":\"4.956263e-03\",\"4\":\"No\",\"5\":\"1349\"},{\"1\":\"No\",\"2\":\"0.93087396\",\"3\":\"6.912604e-02\",\"4\":\"No\",\"5\":\"1350\"},{\"1\":\"Yes\",\"2\":\"0.47653410\",\"3\":\"5.234659e-01\",\"4\":\"Yes\",\"5\":\"1379\"},{\"1\":\"No\",\"2\":\"0.77369755\",\"3\":\"2.263024e-01\",\"4\":\"No\",\"5\":\"1403\"},{\"1\":\"No\",\"2\":\"0.98971849\",\"3\":\"1.028151e-02\",\"4\":\"No\",\"5\":\"1431\"},{\"1\":\"No\",\"2\":\"0.93781048\",\"3\":\"6.218952e-02\",\"4\":\"No\",\"5\":\"1435\"},{\"1\":\"No\",\"2\":\"0.93677424\",\"3\":\"6.322576e-02\",\"4\":\"No\",\"5\":\"1440\"},{\"1\":\"No\",\"2\":\"0.99281725\",\"3\":\"7.182753e-03\",\"4\":\"No\",\"5\":\"1465\"},{\"1\":\"No\",\"2\":\"0.97122409\",\"3\":\"2.877591e-02\",\"4\":\"No\",\"5\":\"1466\"},{\"1\":\"No\",\"2\":\"0.96065991\",\"3\":\"3.934009e-02\",\"4\":\"No\",\"5\":\"1481\"},{\"1\":\"No\",\"2\":\"0.97828472\",\"3\":\"2.171528e-02\",\"4\":\"No\",\"5\":\"1482\"},{\"1\":\"No\",\"2\":\"0.99300320\",\"3\":\"6.996802e-03\",\"4\":\"No\",\"5\":\"1485\"},{\"1\":\"Yes\",\"2\":\"0.22669665\",\"3\":\"7.733034e-01\",\"4\":\"Yes\",\"5\":\"1504\"},{\"1\":\"No\",\"2\":\"0.82811941\",\"3\":\"1.718806e-01\",\"4\":\"No\",\"5\":\"1507\"},{\"1\":\"No\",\"2\":\"0.90557848\",\"3\":\"9.442152e-02\",\"4\":\"No\",\"5\":\"1513\"},{\"1\":\"Yes\",\"2\":\"0.44971716\",\"3\":\"5.502828e-01\",\"4\":\"Yes\",\"5\":\"1522\"},{\"1\":\"No\",\"2\":\"0.83877222\",\"3\":\"1.612278e-01\",\"4\":\"Yes\",\"5\":\"1534\"},{\"1\":\"No\",\"2\":\"0.76121924\",\"3\":\"2.387808e-01\",\"4\":\"Yes\",\"5\":\"1537\"},{\"1\":\"No\",\"2\":\"0.97512076\",\"3\":\"2.487924e-02\",\"4\":\"No\",\"5\":\"1543\"},{\"1\":\"No\",\"2\":\"0.88981960\",\"3\":\"1.101804e-01\",\"4\":\"No\",\"5\":\"1547\"},{\"1\":\"No\",\"2\":\"0.97531568\",\"3\":\"2.468432e-02\",\"4\":\"No\",\"5\":\"1563\"},{\"1\":\"No\",\"2\":\"0.99804656\",\"3\":\"1.953442e-03\",\"4\":\"No\",\"5\":\"1578\"},{\"1\":\"No\",\"2\":\"0.99325788\",\"3\":\"6.742117e-03\",\"4\":\"No\",\"5\":\"1601\"},{\"1\":\"Yes\",\"2\":\"0.44415842\",\"3\":\"5.558416e-01\",\"4\":\"Yes\",\"5\":\"1604\"},{\"1\":\"No\",\"2\":\"0.95455519\",\"3\":\"4.544481e-02\",\"4\":\"No\",\"5\":\"1612\"},{\"1\":\"No\",\"2\":\"0.99715052\",\"3\":\"2.849481e-03\",\"4\":\"No\",\"5\":\"1615\"},{\"1\":\"Yes\",\"2\":\"0.14844091\",\"3\":\"8.515591e-01\",\"4\":\"Yes\",\"5\":\"1624\"},{\"1\":\"No\",\"2\":\"0.95367783\",\"3\":\"4.632217e-02\",\"4\":\"No\",\"5\":\"1633\"},{\"1\":\"No\",\"2\":\"0.99946245\",\"3\":\"5.375502e-04\",\"4\":\"No\",\"5\":\"1635\"},{\"1\":\"No\",\"2\":\"0.99422832\",\"3\":\"5.771677e-03\",\"4\":\"No\",\"5\":\"1638\"},{\"1\":\"Yes\",\"2\":\"0.19061614\",\"3\":\"8.093839e-01\",\"4\":\"Yes\",\"5\":\"1645\"},{\"1\":\"No\",\"2\":\"0.91834879\",\"3\":\"8.165121e-02\",\"4\":\"No\",\"5\":\"1647\"},{\"1\":\"No\",\"2\":\"0.98587995\",\"3\":\"1.412005e-02\",\"4\":\"No\",\"5\":\"1682\"},{\"1\":\"No\",\"2\":\"0.89255577\",\"3\":\"1.074442e-01\",\"4\":\"Yes\",\"5\":\"1691\"},{\"1\":\"No\",\"2\":\"0.99953026\",\"3\":\"4.697429e-04\",\"4\":\"No\",\"5\":\"1697\"},{\"1\":\"No\",\"2\":\"0.96487449\",\"3\":\"3.512551e-02\",\"4\":\"No\",\"5\":\"1724\"},{\"1\":\"No\",\"2\":\"0.98529822\",\"3\":\"1.470178e-02\",\"4\":\"No\",\"5\":\"1732\"},{\"1\":\"No\",\"2\":\"0.99364770\",\"3\":\"6.352301e-03\",\"4\":\"No\",\"5\":\"1771\"},{\"1\":\"No\",\"2\":\"0.88223247\",\"3\":\"1.177675e-01\",\"4\":\"Yes\",\"5\":\"1783\"},{\"1\":\"No\",\"2\":\"0.97382549\",\"3\":\"2.617451e-02\",\"4\":\"No\",\"5\":\"1790\"},{\"1\":\"No\",\"2\":\"0.72924008\",\"3\":\"2.707599e-01\",\"4\":\"Yes\",\"5\":\"1797\"},{\"1\":\"No\",\"2\":\"0.98784566\",\"3\":\"1.215434e-02\",\"4\":\"No\",\"5\":\"1798\"},{\"1\":\"No\",\"2\":\"0.99073185\",\"3\":\"9.268149e-03\",\"4\":\"No\",\"5\":\"1803\"},{\"1\":\"No\",\"2\":\"0.92314956\",\"3\":\"7.685044e-02\",\"4\":\"No\",\"5\":\"1813\"},{\"1\":\"No\",\"2\":\"0.85729032\",\"3\":\"1.427097e-01\",\"4\":\"Yes\",\"5\":\"1818\"},{\"1\":\"No\",\"2\":\"0.99767772\",\"3\":\"2.322281e-03\",\"4\":\"No\",\"5\":\"1854\"},{\"1\":\"No\",\"2\":\"0.99828806\",\"3\":\"1.711944e-03\",\"4\":\"No\",\"5\":\"1863\"},{\"1\":\"No\",\"2\":\"0.89617749\",\"3\":\"1.038225e-01\",\"4\":\"No\",\"5\":\"1883\"},{\"1\":\"No\",\"2\":\"0.98128874\",\"3\":\"1.871126e-02\",\"4\":\"No\",\"5\":\"1898\"},{\"1\":\"No\",\"2\":\"0.97849183\",\"3\":\"2.150817e-02\",\"4\":\"No\",\"5\":\"1918\"},{\"1\":\"No\",\"2\":\"0.99178120\",\"3\":\"8.218797e-03\",\"4\":\"No\",\"5\":\"1922\"},{\"1\":\"Yes\",\"2\":\"0.41223850\",\"3\":\"5.877615e-01\",\"4\":\"Yes\",\"5\":\"1928\"},{\"1\":\"No\",\"2\":\"0.99489944\",\"3\":\"5.100556e-03\",\"4\":\"No\",\"5\":\"1937\"},{\"1\":\"No\",\"2\":\"0.99374301\",\"3\":\"6.256995e-03\",\"4\":\"No\",\"5\":\"1941\"},{\"1\":\"No\",\"2\":\"0.98255958\",\"3\":\"1.744042e-02\",\"4\":\"No\",\"5\":\"1947\"},{\"1\":\"No\",\"2\":\"0.96406517\",\"3\":\"3.593483e-02\",\"4\":\"No\",\"5\":\"1948\"},{\"1\":\"No\",\"2\":\"0.97566561\",\"3\":\"2.433439e-02\",\"4\":\"No\",\"5\":\"1950\"},{\"1\":\"No\",\"2\":\"0.99184170\",\"3\":\"8.158298e-03\",\"4\":\"No\",\"5\":\"1951\"},{\"1\":\"No\",\"2\":\"0.74263375\",\"3\":\"2.573662e-01\",\"4\":\"Yes\",\"5\":\"1967\"},{\"1\":\"No\",\"2\":\"0.99973466\",\"3\":\"2.653385e-04\",\"4\":\"No\",\"5\":\"1979\"},{\"1\":\"No\",\"2\":\"0.97500239\",\"3\":\"2.499761e-02\",\"4\":\"No\",\"5\":\"1989\"},{\"1\":\"No\",\"2\":\"0.95050159\",\"3\":\"4.949841e-02\",\"4\":\"No\",\"5\":\"1994\"},{\"1\":\"No\",\"2\":\"0.96980996\",\"3\":\"3.019004e-02\",\"4\":\"No\",\"5\":\"1998\"},{\"1\":\"No\",\"2\":\"0.99420848\",\"3\":\"5.791523e-03\",\"4\":\"No\",\"5\":\"2019\"},{\"1\":\"No\",\"2\":\"0.97379062\",\"3\":\"2.620938e-02\",\"4\":\"No\",\"5\":\"2041\"},{\"1\":\"No\",\"2\":\"0.98111088\",\"3\":\"1.888912e-02\",\"4\":\"No\",\"5\":\"2068\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nCreating explainer and explanation\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-5_539865b8bab9a6296aa3ca9de6283301'}\n\n```{.r .cell-code}\nexplainer <- train_tbl %>%\n    select(-Attrition) %>%\n    lime(\n        model           = automl_leader,\n        bin_continuous  = TRUE,\n        n_bins          = 4,\n        quantile_bins   = TRUE\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: PerformanceRating does not contain enough variance to use quantile\n#> binning. Using standard binning instead.\n```\n:::\n\n```{.r .cell-code}\nexplanation <- test_tbl %>%\n    slice(1:10) %>%\n    select(-Attrition) %>%\n    lime::explain(\n\n        explainer = explainer,\n        # Because it is a binary classification model: 1\n        n_labels   = 1,\n        # number of features to be returned\n        n_features = 8,\n        # number of localized linear models\n        n_permutations = 5000,\n        # Let's start with 1\n        kernel_width   = 2\n    ) %>%\n    as.tibble() %>%\n    mutate(feature = as_factor(feature)) %>%\n    mutate(label = as_factor(label))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: `as.tibble()` was deprecated in tibble 2.0.0.\n#> ℹ Please use `as_tibble()` instead.\n#> ℹ The signature and semantics have changed, see `?as_tibble`.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\nexplanation\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_type\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"case\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"label\"],\"name\":[3],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"label_prob\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"model_r2\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"model_intercept\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"model_prediction\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"feature\"],\"name\":[8],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"feature_value\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"feature_weight\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"feature_desc\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"data\"],\"name\":[12],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"prediction\"],\"name\":[13],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"PerformanceRating\",\"9\":\"4\",\"10\":\"0.30535495\",\"11\":\"3.75 < PerformanceRating\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"OverTime\",\"9\":\"2\",\"10\":\"-0.25565355\",\"11\":\"OverTime = Yes\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09881205\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"-0.07988843\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"0\",\"10\":\"0.07079247\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"JobInvolvement\",\"9\":\"4\",\"10\":\"0.06182530\",\"11\":\"3 < JobInvolvement\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"YearsInCurrentRole\",\"9\":\"0\",\"10\":\"-0.06001968\",\"11\":\"YearsInCurrentRole <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"1\",\"3\":\"No\",\"4\":\"0.9430318\",\"5\":\"0.3429493\",\"6\":\"0.8629426\",\"7\":\"0.9425314\",\"8\":\"WorkLifeBalance\",\"9\":\"2\",\"10\":\"-0.06163424\",\"11\":\"WorkLifeBalance <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.27554199\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09097914\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"-0.09202471\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"4\",\"10\":\"-0.07930136\",\"11\":\"2 < YearsSinceLastPromotion\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"1\",\"10\":\"-0.07473584\",\"11\":\"EnvironmentSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"StockOptionLevel\",\"9\":\"2\",\"10\":\"0.06802316\",\"11\":\"StockOptionLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"TotalWorkingYears\",\"9\":\"5\",\"10\":\"-0.06859234\",\"11\":\"TotalWorkingYears <= 6\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"2\",\"3\":\"No\",\"4\":\"0.8906444\",\"5\":\"0.3956751\",\"6\":\"0.6651617\",\"7\":\"0.7167350\",\"8\":\"WorkLifeBalance\",\"9\":\"2\",\"10\":\"-0.06831673\",\"11\":\"WorkLifeBalance <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.27446594\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09892231\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"-0.08669715\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"StockOptionLevel\",\"9\":\"1\",\"10\":\"-0.07520243\",\"11\":\"StockOptionLevel = 0\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"0\",\"10\":\"0.07070482\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"YearsInCurrentRole\",\"9\":\"0\",\"10\":\"-0.06212096\",\"11\":\"YearsInCurrentRole <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"Age\",\"9\":\"21\",\"10\":\"-0.06316937\",\"11\":\"Age <= 30\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"3\",\"3\":\"No\",\"4\":\"0.9647841\",\"5\":\"0.3872605\",\"6\":\"0.6189783\",\"7\":\"0.8403294\",\"8\":\"TrainingTimesLastYear\",\"9\":\"6\",\"10\":\"0.06444789\",\"11\":\"3 < TrainingTimesLastYear\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.28373043\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09892594\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"-0.08973533\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"2\",\"10\":\"-0.07836937\",\"11\":\"EnvironmentSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"StockOptionLevel\",\"9\":\"1\",\"10\":\"-0.07091481\",\"11\":\"StockOptionLevel = 0\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"1\",\"10\":\"0.06914544\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"YearsInCurrentRole\",\"9\":\"2\",\"10\":\"-0.05871689\",\"11\":\"YearsInCurrentRole <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"4\",\"3\":\"No\",\"4\":\"0.8731187\",\"5\":\"0.3997807\",\"6\":\"0.6560469\",\"7\":\"0.7557979\",\"8\":\"JobSatisfaction\",\"9\":\"1\",\"10\":\"-0.05431435\",\"11\":\"JobSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"OverTime\",\"9\":\"2\",\"10\":\"-0.26338663\",\"11\":\"OverTime = Yes\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09775459\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"JobLevel\",\"9\":\"2\",\"10\":\"0.08892757\",\"11\":\"JobLevel = 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"StockOptionLevel\",\"9\":\"1\",\"10\":\"-0.07427269\",\"11\":\"StockOptionLevel = 0\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"TrainingTimesLastYear\",\"9\":\"5\",\"10\":\"0.07275153\",\"11\":\"3 < TrainingTimesLastYear\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"4\",\"10\":\"0.07382042\",\"11\":\"3 < EnvironmentSatisfaction\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"1\",\"10\":\"0.06891277\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"5\",\"3\":\"No\",\"4\":\"0.9930376\",\"5\":\"0.3944582\",\"6\":\"0.7449824\",\"7\":\"0.8763010\",\"8\":\"Age\",\"9\":\"44\",\"10\":\"0.06681107\",\"11\":\"43 < Age\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.24675812\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"Department\",\"9\":\"3\",\"10\":\"-0.09747806\",\"11\":\"Department = Sales\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"TotalWorkingYears\",\"9\":\"19\",\"10\":\"0.08700559\",\"11\":\"15 < TotalWorkingYears\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"JobLevel\",\"9\":\"2\",\"10\":\"0.08307173\",\"11\":\"JobLevel = 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"4\",\"10\":\"0.08304162\",\"11\":\"3 < EnvironmentSatisfaction\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"StockOptionLevel\",\"9\":\"2\",\"10\":\"0.06710767\",\"11\":\"StockOptionLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"TrainingTimesLastYear\",\"9\":\"6\",\"10\":\"0.06713036\",\"11\":\"3 < TrainingTimesLastYear\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"6\",\"3\":\"No\",\"4\":\"0.9975191\",\"5\":\"0.3655903\",\"6\":\"0.5949915\",\"7\":\"1.0758025\",\"8\":\"YearsInCurrentRole\",\"9\":\"0\",\"10\":\"-0.05582599\",\"11\":\"YearsInCurrentRole <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.26594150\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.09752698\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"-0.08548192\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"JobInvolvement\",\"9\":\"4\",\"10\":\"0.07565910\",\"11\":\"3 < JobInvolvement\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"4\",\"10\":\"0.07283925\",\"11\":\"3 < EnvironmentSatisfaction\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"1\",\"10\":\"0.06188682\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"TotalWorkingYears\",\"9\":\"6\",\"10\":\"-0.06205003\",\"11\":\"TotalWorkingYears <= 6\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"7\",\"3\":\"No\",\"4\":\"0.9996036\",\"5\":\"0.3588408\",\"6\":\"0.5529530\",\"7\":\"1.0403011\",\"8\":\"StockOptionLevel\",\"9\":\"3\",\"10\":\"0.06102643\",\"11\":\"StockOptionLevel = 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"-0.27397401\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"-0.08880226\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"JobLevel\",\"9\":\"1\",\"10\":\"0.08369271\",\"11\":\"JobLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"StockOptionLevel\",\"9\":\"1\",\"10\":\"0.08111871\",\"11\":\"StockOptionLevel = 0\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"1\",\"10\":\"0.07571641\",\"11\":\"EnvironmentSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"0\",\"10\":\"-0.06432669\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"Age\",\"9\":\"26\",\"10\":\"0.06161525\",\"11\":\"Age <= 30\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"8\",\"3\":\"Yes\",\"4\":\"0.9417815\",\"5\":\"0.3975030\",\"6\":\"0.3236854\",\"7\":\"0.2595840\",\"8\":\"YearsInCurrentRole\",\"9\":\"0\",\"10\":\"0.06085846\",\"11\":\"YearsInCurrentRole <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"OverTime\",\"9\":\"2\",\"10\":\"0.26737154\",\"11\":\"OverTime = Yes\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"-0.10401501\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"StockOptionLevel\",\"9\":\"1\",\"10\":\"0.09425018\",\"11\":\"StockOptionLevel = 0\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"TotalWorkingYears\",\"9\":\"23\",\"10\":\"-0.08858873\",\"11\":\"15 < TotalWorkingYears\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"NumCompaniesWorked\",\"9\":\"9\",\"10\":\"0.07319922\",\"11\":\"4 < NumCompaniesWorked\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"1\",\"10\":\"0.06628006\",\"11\":\"EnvironmentSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"JobInvolvement\",\"9\":\"2\",\"10\":\"0.06773395\",\"11\":\"JobInvolvement <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"9\",\"3\":\"Yes\",\"4\":\"0.5281330\",\"5\":\"0.3955152\",\"6\":\"0.1258797\",\"7\":\"0.4363691\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"0\",\"10\":\"-0.06574181\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"OverTime\",\"9\":\"1\",\"10\":\"0.27232213\",\"11\":\"OverTime = No\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"Department\",\"9\":\"2\",\"10\":\"0.10206936\",\"11\":\"Department = Research & Development\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"JobLevel\",\"9\":\"2\",\"10\":\"0.07963496\",\"11\":\"JobLevel = 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"StockOptionLevel\",\"9\":\"2\",\"10\":\"0.07531163\",\"11\":\"StockOptionLevel = 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"EnvironmentSatisfaction\",\"9\":\"1\",\"10\":\"-0.06587612\",\"11\":\"EnvironmentSatisfaction <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"NumCompaniesWorked\",\"9\":\"1\",\"10\":\"0.05864631\",\"11\":\"NumCompaniesWorked <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"YearsSinceLastPromotion\",\"9\":\"0\",\"10\":\"0.05940908\",\"11\":\"YearsSinceLastPromotion <= 1\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"},{\"1\":\"classification\",\"2\":\"10\",\"3\":\"No\",\"4\":\"0.9990346\",\"5\":\"0.3930145\",\"6\":\"0.4871626\",\"7\":\"1.0134620\",\"8\":\"JobInvolvement\",\"9\":\"2\",\"10\":\"-0.05521793\",\"11\":\"JobInvolvement <= 2\",\"12\":\"<named list [31]>\",\"13\":\"<named list [2]>\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nPlotting the explanation\n\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-6_6d8a694934910d5da622d9424ce0e7d0'}\n\n```{.r .cell-code}\ncase1 <- explanation %>%\n  filter(case == 1)\n\ng <- plot_features(explanation = case1, ncol = 1) \n  \ng\n```\n\n::: {.cell-output-display}\n![](10_Lime_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n## Part 2\n\nPlotting all the features\n\n\n::: {.cell hash='10_Lime_cache/html/unnamed-chunk-7_1f0b2b4d095b4a99be18118c4bb98bb2'}\n\n```{.r .cell-code}\nplot_explanations(explanation) +\n  facet_wrap(explanation$label) +\n  geom_tile(aes(fill = feature_weight))\n```\n\n::: {.cell-output-display}\n![](10_Lime_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}